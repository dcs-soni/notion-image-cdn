# =============================================================================
# Notion Image CDN â€” Environment Configuration
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control.
# =============================================================================

# ---- Server ----
PORT=3001
HOST=0.0.0.0
LOG_LEVEL=info                  # fatal | error | warn | info | debug | trace
NODE_ENV=development            # development | production

# ---- Storage Backend ----
STORAGE_BACKEND=fs              # fs | s3 | r2
CACHE_DIR=./cache               # Used when STORAGE_BACKEND=fs

# S3-Compatible Storage (R2, S3, MinIO, Backblaze B2)
# S3_BUCKET=notion-image-cdn-cache
# S3_REGION=auto
# S3_ENDPOINT=                  # Required for R2/MinIO (e.g., https://<account>.r2.cloudflarestorage.com)
# S3_ACCESS_KEY=
# S3_SECRET_KEY=

# ---- Edge Cache (L2) ----
# REDIS_URL=redis://localhost:6379

# ---- Security ----
ALLOWED_DOMAINS=prod-files-secure.s3.us-west-2.amazonaws.com,s3.us-west-2.amazonaws.com,images.unsplash.com
MAX_IMAGE_SIZE_BYTES=26214400   # 25MB
UPSTREAM_TIMEOUT_MS=15000       # 15 seconds
RATE_LIMIT_PER_MINUTE=100

# ---- API Keys (Pro tier) ----
API_KEYS_ENABLED=false
# HMAC_SECRET=                  # For signed URLs (optional)

# ---- CORS ----
# CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
